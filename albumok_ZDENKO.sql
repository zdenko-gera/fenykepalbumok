SELECT IMAGES.IMAGE_PATH, IMAGES.IMAGE_ID, ROUND(AVG(PHOTORATING.RATING),2) AS AVG_RATING FROM IMAGES LEFT JOIN photorating ON IMAGES.IMAGE_ID = PHOTORATING.PHOTOID WHERE IMAGES.CATEGORY_ID = :categoryID WHERE (SELECT COUNT(ID) AS CNT_ID FROM PHOTORATING) > 0 GROUP BY IMAGES.IMAGE_PATH, IMAGES.IMAGE_ID ORDER BY AVG_RATING DESC